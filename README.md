# idswyft

> ü§ñ Documentation generated by [DocuForge AI](https://docuforge.dev)

## README.md

# Idswyft ‚Äî Open Source Identity Verification Platform üöÄ

[![License](https://img.shields.io/github/license/doobee46/idswyft.svg)](./LICENSE)
[![Issues](https://img.shields.io/github/issues/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft/issues)
[![Stars](https://img.shields.io/github/stars/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft/stargazers)
[![Repo Size](https://img.shields.io/github/repo-size/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft)

A developer-friendly, production-ready identity verification platform with document OCR, face recognition, secure API key management, webhooks, and an admin + developer portal. Built for engineering teams who need a self-hostable, privacy-conscious KYC/identity solution.

What it provides:
- Document OCR + authenticity checks (Tesseract)
- Selfie ‚Üî document photo face matching
- API key management and rate limiting for developer access
- Webhooks with retry logic for real-time events
- Admin dashboard + developer portal for onboarding and keys
- GDPR/CCPA-friendly data controls and encrypted storage

---

## Table of Contents
- Features
- Architecture
- Quick Start / Installation
- Usage / API Reference
- Configuration
- Contributing
- Tests
- Deployment
- Built With
- Authors
- License
- Roadmap
- FAQ
- Contact

---

## Features ‚ú®

- üßæ Document Verification: OCR extraction and authenticity checks for government IDs.
- üßë‚Äçü§ù‚Äçüßë Face Recognition: Selfie matching with document photos (face-api.js).
- üîë API Key Management: Secure developer authentication with rate limiting.
- üîî Webhooks: Real-time notifications with retry and delivery status.
- üõ°Ô∏è Privacy-first: Tools for GDPR / CCPA compliance and data deletion.
- üß∞ Admin Dashboard: Manage users, verifications, analytics, and settings.
- üß™ Sandbox Mode: Safe test environment for integration and development.
- ‚òÅÔ∏è Cloud & Local Ready: Works with Supabase, AWS S3 or local storage.

---

## Architecture üèóÔ∏è

- Backend: Node.js + TypeScript, Express.js
  - Routes: auth, developer, admin, verification, health
  - Middleware: auth, rate limiting, error handling
  - Integrations: Supabase (Postgres), Tesseract OCR, face-api.js
- Frontend: React + TypeScript (Vite) ‚Äî Admin dashboard & Developer portal
- Database: Supabase / PostgreSQL (CREATE_TABLES.sql included)
- File storage: Configurable (S3, Supabase Storage, local)
- Security: Encrypted file storage, HTTPS-only in production, secure API-key hashing

Key repo files:
- backend/src/config* ‚Äî configuration loading
- backend/src/middleware/* ‚Äî auth, rate limiting, error handing
- backend/src/routes/* ‚Äî API endpoints
- CREATE_TABLES.sql ‚Äî DB schema for Supabase / Postgres

---

## Quick Start / Installation ‚öôÔ∏è

Prerequisites
- Node.js 18+
- PostgreSQL (or Supabase project)
- Tesseract OCR installed and available in PATH
- Optional: Docker & Docker Compose

1) Clone
```bash
git clone https://github.com/doobee46/idswyft.git
cd idswyft
```

2) Install dependencies (backend + frontend)
(If the project uses npm/yarn/pnpm ‚Äî run the relevant install. Common patterns:)
```bash
# from repo root or backend/ and frontend/ if separated
npm install
# or
pnpm install
```

3) Environment
Copy the example env and update values:
```bash
cp .env.example .env
```
Edit `.env` with your environment-specific values (see Configuration section below).

4) Database
Create the required tables in your Postgres/Supabase. You can use the provided SQL:
- Open `CREATE_TABLES.sql` and paste it into your Supabase SQL editor or run against your DB.

Example (psql):
```bash
psql $DATABASE_URL -f CREATE_TABLES.sql
```

5) Start in development
```bash
# common scripts
npm run setup      # (optional) project-specific setup steps
npm run db:setup   # runs migrations / seeds (if available)
npm run dev        # starts backend + frontend in dev mode
```

Default local ports (typical):
- Backend API: http://localhost:3001
- Frontend / Dashboard: http://localhost:5173
- Developer portal: http://localhost:5173/developer
- Admin dashboard: http://localhost:5173/admin

6) Docker (recommended for quick local deploy)
```bash
docker-compose up -d
```
(See docker-compose.yml in repo if present; adjust env files and volumes as needed.)

---

## Usage / API Reference üß≠

Authentication
- Most API requests require an API key in the header:
  - Header: `X-API-Key: your-api-key`

Core Endpoints (examples; check backend routes for full details)

1) Document Verification
```http
POST /api/verify/document
Content-Type: multipart/form-data

Fields:
- user_id: string
- document_type: passport|id_card|driver_license
- document: file
```

2) Selfie Upload (face matching)
```http
POST /api/verify/selfie
Content-Type: multipart/form-data

Fields:
- verification_id: string
- selfie: file
```

3) Check Status
```http
GET /api/verify/status/:user_id
```

4) Developer Portal (create API key, manage webhooks)
- Visit: /developer (UI)
- Register / Sign in, then create API keys and configure webhook endpoints.

Webhooks (example payload)
```json
{
  "user_id": "user-123",
  "verification_id": "verification-456",
  "status": "verified",
  "timestamp": "2024-01-01T00:00:00Z",
  "data": {
    "ocr_data": { "...": "..." },
    "face_match_score": 0.95
  }
}
```

Admin Dashboard
- Default local credentials (change in production):
  - Email: admin@idswyft.com
  - Password: admin123
- Visit: http://localhost:5173/admin

---

## Configuration üîß

Primary configuration files:
- backend/src/config.ts, backend/src/config/database.ts, backend/src/config/index.ts

Important environment variables (example values)
- SUPABASE_URL - Your Supabase project URL
- SUPABASE_SERVICE_ROLE_KEY - Supabase service role key (backend only)
- DATABASE_URL - Postgres connection string (postgresql://user:pass@host:port/db)
- JWT_SECRET - Secret for admin/developer JWT tokens
- ENCRYPTION_KEY - 32-character key for file encryption at rest
- TESSERACT_PATH - Optional path to Tesseract binary
- PERSONA_API_KEY - (optional) Persona integration
- ONFIDO_API_KEY - (optional) Onfido integration
- WEBHOOK_RETRY_ATTEMPTS - Default: 3
- RATE_LIMIT_MAX_REQUESTS_PER_USER - Default: 5 (daily)

Example .env (trimmed)
```env
NODE_ENV=development
PORT=3001
DATABASE_URL=postgresql://postgres:password@localhost:5432/idswyft
SUPABASE_URL=https://xyz.supabase.co
SUPABASE_SERVICE_ROLE_KEY=service-role-key
JWT_SECRET=supersecretjwt
ENCRYPTION_KEY=32_character_long_encryption_key_here
TESSERACT_PATH=/usr/bin/tesseract
```

Security notes
- Keep service role keys and API keys out of VCS.
- Use HTTPS in production.
- Rotate keys regularly and enforce least privilege.

---

## Contributing ü§ù

We welcome contributions! Please follow these steps:

1. Fork the repository
2. Create a feature branch: `git checkout -b feat/my-feature`
3. Commit changes with clear messages
4. Add tests where appropriate
5. Open a Pull Request targeting `main`

Guidelines
- Code style: TypeScript + consistent linting (ESLint/Prettier recommended)
- Tests: add unit/integration tests for new features
- Run linters and tests before submitting PRs
- Use conventional commits if possible

If you plan a large change, open an issue first to discuss the design.

See also: CONTRIBUTING.md (create one if missing) and CLAUDE.md (project-specific notes included in repo).

---

## Tests üß™

Testing strategy
- Unit tests for business logic
- Integration tests for API endpoints (connect to test DB)
- End-to-end tests for critical flows (optional)

Typical commands (if scripts exist)
```bash
npm run test
npm run test:ci
npm run lint
```

If test scripts are not present, add them to package.json and follow repo conventions.

---

## Deployment üöÄ

Options:
- Docker Compose (recommended for quick deployments)
- Deploy backend to any Node host (Heroku, DigitalOcean, AWS ECS, etc.)
- Frontend to static hosting (Netlify, Vercel, S3 + CloudFront)
- Use Supabase for DB + storage, or connect to your Postgres and S3-compatible storage

Production checklist:
- Set NODE_ENV=production
- Use a secure secrets store for DB and API keys
- Configure SSL/HTTPS and reverse proxy (nginx)
- Set up monitoring and health checks (e.g. /health endpoint)
- Back up DB and storage
- Configure rate limiting and alerts

Example: Docker
```bash
docker-compose -f docker-compose.prod.yml up -d
```

---

## Built With üõ†Ô∏è

- Node.js + TypeScript
- Express.js
- React + Vite + Tailwind CSS
- PostgreSQL / Supabase
- Tesseract OCR
- face-api.js (face recognition)
- Optional: Persona, Onfido integrations

---

## Authors ‚úçÔ∏è

- Maintainer: doobee46 ‚Äî https://github.com/doobee46
- Contributors: Welcome! See the repository contributors list.

---

## License üìÑ

This project is licensed under the MIT License ‚Äî see the [LICENSE](./LICENSE) file for details.

---

## Roadmap üó∫Ô∏è

Planned improvements:
- [ ] Additional document type support (regional IDs)
- [ ] Liveness detection for selfie flows
- [ ] Multi-language OCR improvements
- [ ] Official Mobile SDK (React Native)
- [ ] Expanded storage provider integrations (GCS, Azure)
- [ ] Enterprise features: SSO, audit logs, role-based access

Want a feature? Open an issue and tag it as a request.

---

## FAQ ‚ùì

Q: Can I self-host this in production?
A: Yes ‚Äî the project is designed for self-hosting with Postgres/Supabase and configurable storage. Ensure you follow the security checklist.

Q: Is the OCR accurate for non-Latin scripts?
A: OCR quality depends on the Tesseract language data you configure. Multi-language support is on the roadmap.

Q: How are personal files stored?
A: Files are encrypted at rest using the ENCRYPTION_KEY. Additional security measures (access control, retention policies) should be configured in production.

---

## Contact üì¨

- Issues: https://github.com/doobee46/idswyft/issues
- Discussions: https://github.com/doobee46/idswyft/discussions
- For urgent or enterprise inquiries, open an issue and tag it "enterprise" or contact the maintainer via GitHub.

---

Thank you for checking out Idswyft ‚ù§Ô∏è
If you use or contribute to the project, please star the repo and join the discussion!

