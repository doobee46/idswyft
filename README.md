# idswyft

> ü§ñ Documentation generated by [DocuForge AI](https://docuforge.dev)

## README.md

# Idswyft ‚Äî Open Source Identity Verification Platform üöÄ

[![License](https://img.shields.io/github/license/doobee46/idswyft.svg)](./LICENSE)
[![Issues](https://img.shields.io/github/issues/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft/issues)
[![Stars](https://img.shields.io/github/stars/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft/stargazers)
[![Repo Size](https://img.shields.io/github/repo-size/doobee46/idswyft.svg)](https://github.com/doobee46/idswyft)

A developer-friendly, production-ready identity verification platform built for engineering teams who need a self-hostable, privacy-conscious KYC / identity solution. Idswyft provides document OCR, face matching, secure API key management, webhooks, and admin + developer portals ‚Äî designed to be run locally or in your cloud environment.

---

Table of contents
- Features
- Architecture
- Quick Start / Installation
- Usage & API Reference
- Configuration
- Contributing
- Tests
- Deployment
- Built With
- Authors
- License
- Roadmap
- FAQ
- Contact

---

## Features ‚ú®

- üßæ Document OCR & authenticity checks (Tesseract)
- ü§≥ Selfie ‚Üî document face matching (face-api.js)
- üîê API key management with rate limiting for developer access
- üîÅ Webhooks with retry logic and delivery status
- üõ† Admin dashboard + Developer portal for onboarding and key management
- üîí Privacy-first: encryption at rest, GDPR/CCPA-friendly controls
- üß™ Sandbox mode for safe testing and integration
- ‚òÅÔ∏è Flexible storage: Supabase / S3 or local filesystem

What makes Idswyft unique:
- Built to be self-hostable with developer ergonomics in mind
- Focus on privacy: configurable retention and encryption keys
- Extensible verification thresholds and dynamic configuration

---

## Architecture üèóÔ∏è

- Backend: Node.js + TypeScript, Express.js
  - Routes: auth, developer, admin, verification, health
  - Middleware: authentication, rate limiting, error handling, logging
  - Integrations: Supabase/Postgres, Tesseract OCR, face-api.js
- Frontend: React + TypeScript (Vite) ‚Äî Admin dashboard & Developer portal
- Database: Supabase / PostgreSQL (schema/migrations may be present in repo)
- File storage: Configurable (S3, Supabase Storage, or local)
- Security: Encrypted storage for sensitive files, API-key hashing, JWT for admin/developer access

Key backend files (examples present in repo):
- backend/src/config*.ts ‚Äî configuration loaders (database, verification thresholds, dynamic thresholds)
- backend/src/database.ts ‚Äî DB connection utilities
- backend/src/middleware/* ‚Äî auth, rate limit, error handling, api logger
- backend/src/models/ApiActivity.ts
- backend/src/routes/admin-thresholds.ts

---

## Quick Start / Installation ‚öôÔ∏è

Prerequisites
- Node.js 18+ (or the project Node version)
- PostgreSQL (or a Supabase project)
- Tesseract OCR installed and available in PATH (for OCR)
- Optional: Docker & Docker Compose for quick local deployment

1) Clone the repo
```bash
git clone https://github.com/doobee46/idswyft.git
cd idswyft
```

2) Install dependencies
- If the repo uses a workspace or separate backend/frontend directories, run from the appropriate folder(s).
```bash
# example
cd backend
npm install
# and if frontend exists
cd ../frontend
npm install
```

3) Environment
Copy example environment file (if provided) and edit:
```bash
cp .env.example .env
```
Populate values described in the Configuration section below.

4) Database
- Create the required database and schema. If SQL schema/migrations are included in your clone (e.g., `sql/` or `supabase/migrations/`), apply them to your Postgres/Supabase instance.
- Otherwise run the migrations or create tables according to your environment.

5) Start in development
```bash
# backend (example)
cd backend
npm run dev

# frontend (example)
cd ../frontend
npm run dev
```

6) Docker (optional)
If a Docker Compose file exists in the repository:
```bash
docker-compose up -d
```
Adjust volumes and .env files as necessary.

Notes
- Default local ports are typical but may vary:
  - Backend API: http://localhost:3001
  - Frontend / Dashboards: http://localhost:5173

---

## Usage & API Reference üß≠

Authentication
- Most API requests require an API key in header:
  - Header: `X-API-Key: your-api-key`
- Admin/developer UIs likely use JWT session cookies or Authorization headers (see config).

Core endpoints (examples ‚Äî check your running backend routes for exact paths):

1) Document verification
POST /api/verify/document
- Content-Type: multipart/form-data
- Fields:
  - user_id: string
  - document_type: passport|id_card|driver_license
  - document: file

2) Selfie upload (face matching)
POST /api/verify/selfie
- Content-Type: multipart/form-data
- Fields:
  - verification_id: string
  - selfie: file

3) Check verification status
GET /api/verify/status/:verification_id

Webhooks
- Configure webhook endpoints in the Developer portal (or DB).
- Example payload:
```json
{
  "user_id": "user-123",
  "verification_id": "verification-456",
  "status": "verified",
  "timestamp": "2024-01-01T00:00:00Z",
  "data": {
    "ocr_data": { "name": "Jane Doe", "dob": "1990-01-01" },
    "face_match_score": 0.95
  }
}
```

Admin Dashboard
- Typically located under `/admin` on the frontend.
- Default local credentials (if seeded ‚Äî change in production):
  - Email: admin@idswyft.com
  - Password: admin123

---

## Configuration üîß

Configuration files found in the repo:
- backend/src/config.ts
- backend/src/config/database.ts
- backend/src/config/index.ts
- backend/src/config/dynamicThresholds.ts
- backend/src/config/verificationThresholds.ts

Important environment variables
- NODE_ENV ‚Äî development | production
- PORT ‚Äî backend port (default: 3001)
- DATABASE_URL ‚Äî Postgres connection string (postgresql://user:pass@host:port/db)
- SUPABASE_URL ‚Äî optional Supabase URL
- SUPABASE_SERVICE_ROLE_KEY ‚Äî Supabase service role (backend-only)
- JWT_SECRET ‚Äî secret for admin/developer JWT tokens
- ENCRYPTION_KEY ‚Äî 32-character key for file encryption at rest
- TESSERACT_PATH ‚Äî optional path to Tesseract binary (e.g., /usr/bin/tesseract)
- PERSONA_API_KEY ‚Äî (optional) Persona integration
- ONFIDO_API_KEY ‚Äî (optional) Onfido integration
- WEBHOOK_RETRY_ATTEMPTS ‚Äî default retry attempts for webhooks
- RATE_LIMIT_MAX_REQUESTS_PER_USER ‚Äî throttle per-user default

Example .env snippet
```env
NODE_ENV=development
PORT=3001
DATABASE_URL=postgresql://postgres:password@localhost:5432/idswyft
SUPABASE_URL=https://xyz.supabase.co
SUPABASE_SERVICE_ROLE_KEY=service-role-key
JWT_SECRET=supersecretjwt
ENCRYPTION_KEY=32_character_long_encryption_key_here
TESSERACT_PATH=/usr/bin/tesseract
```

Security notes
- Never commit secrets to version control.
- Use a secrets manager in production.
- Rotate keys periodically and enforce least privilege.

Verification thresholds
- Thresholds and dynamic threshold config files allow tuning face-match and OCR acceptance sensitivity. See backend/src/config/verificationThresholds.ts and dynamicThresholds for adjustable behaviour.

---

## Contributing ü§ù

Contributions are welcome! Whether it‚Äôs a bug fix, new feature, or documentation improvement ‚Äî thank you.

How to contribute
1. Fork the repository
2. Create a branch: `git checkout -b feat/my-feature`
3. Commit changes with clear messages
4. Run tests and linters
5. Open a Pull Request targeting `main`

Guidelines
- Follow TypeScript best practices and keep code consistent with existing style (use ESLint/Prettier)
- Add unit / integration tests for new features
- Use conventional commits when possible
- Open an issue for large features before coding to discuss design

See also: add a CONTRIBUTING.md in the repo for project-specific instructions.

---

## Tests üß™

Testing strategy
- Unit tests for business logic (services, utils)
- Integration tests for API routes (use a test DB)
- E2E tests for critical flows (optional)

Typical commands (if defined in package.json)
```bash
# run unit tests
npm run test

# run tests and report coverage
npm run test:ci

# linting
npm run lint
```

If test scripts are missing, create test scripts in package.json and follow existing conventions.

---

## Deployment üöÄ

Options
- Docker Compose ‚Äî easiest for local/quick deployments (if docker files are included)
- Deploy backend to Node hosting: Docker, ECS, Heroku, DigitalOcean, etc.
- Frontend to static hosts: Vercel, Netlify, S3 + CloudFront
- Use Supabase for DB + storage or connect to managed Postgres + S3-compatible storage

Production checklist
- NODE_ENV=production
- Use a secure secrets store for DB credentials and API keys
- Configure HTTPS and reverse proxy (e.g. nginx)
- Enable monitoring and health checks (e.g. /health)
- Back up DB and storage
- Configure rate limiting, alerts, and log retention
- Ensure ENCRYPTION_KEY is securely stored and rotated

Example (Docker)
```bash
# if docker-compose.prod.yml exists
docker-compose -f docker-compose.prod.yml up -d
```

---

## Built With üõ†Ô∏è

- Node.js + TypeScript
- Express.js
- React + Vite + Tailwind CSS (frontend)
- PostgreSQL / Supabase
- Tesseract OCR
- face-api.js (face recognition)
- Optional integrations: Persona, Onfido

---

## Authors üë©‚Äçüíªüë®‚Äçüíª

- Maintainer: doobee46 ‚Äî https://github.com/doobee46
- Contributors: Welcome! See the repository contributors list.

---

## License üìÑ

This project is licensed under the MIT License ‚Äî see the [LICENSE](./LICENSE) file for details.

---

## Roadmap üó∫Ô∏è

Planned improvements
- [ ] Additional regional document types
- [ ] Liveness detection for selfie flows
- [ ] Multi-language OCR improvements
- [ ] Official Mobile SDK (React Native)
- [ ] Expanded storage provider integrations (GCS, Azure)
- [ ] Enterprise features: SSO, audit logs, RBAC

Want a feature? Open an issue and tag it as a request.

---

## FAQ ‚ùì

Q: Can I self-host this in production?
A: Yes ‚Äî the project is designed for self-hosting. Follow the production checklist and secure your secrets.

Q: Is OCR accurate for non-Latin scripts?
A: OCR accuracy depends on Tesseract language packs configured. Multi-language support requires appropriate Tesseract data files.

Q: How are personal files stored?
A: Files are intended to be encrypted at rest using ENCRYPTION_KEY. Configure retention policies and access controls in production.

Q: Where are the DB schema and migrations?
A: If present, look for `sql/`, `supabase/migrations/` or similar directories in the repo. If absent, create/seed the DB schema using provided docs or scripts.

---

## Changelog üìù

See the repository Releases (if used) or tags for versioned changelogs. If you maintain a CHANGELOG.md, follow Semantic Versioning and note breaking changes under a separate header.

Example format for future releases:
- v0.1.0 ‚Äî 2024-01-01
  - Initial public alpha: document OCR, face matching, API key management

---

## Acknowledgments üôè

- Tesseract OCR
- face-api.js
- Supabase community
- Open-source developer contributors and maintainers

---

## Contact üì¨

- Issues: https://github.com/doobee46/idswyft/issues
- Discussions: https://github.com/doobee46/idswyft/discussions
- For enterprise or urgent inquiries, open an issue and tag it "enterprise" or contact the maintainer via GitHub.

---

Thank you for checking out Idswyft! If you use or contribute to the project, please star the repo ‚≠ê and join the discussion.

